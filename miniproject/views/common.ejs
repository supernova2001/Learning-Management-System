<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js" integrity="sha384-LtrjvnR4Twt/qOuYxE721u19sVFLVSA4hf/rRt6PrZTmiPltdZcI7q7PXQBYTKyf" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://kit.fontawesome.com/30eb83224b.js" crossorigin="anonymous"></script>
<style>
  body{
    background: rgba(226,226,226,1);
background: -moz-linear-gradient(-45deg, rgba(226,226,226,1) 0%, rgba(219,219,219,1) 50%, rgba(209,209,209,1) 51%, rgba(254,254,254,1) 100%);
background: -webkit-gradient(left top, right bottom, color-stop(0%, rgba(226,226,226,1)), color-stop(50%, rgba(219,219,219,1)), color-stop(51%, rgba(209,209,209,1)), color-stop(100%, rgba(254,254,254,1)));
background: -webkit-linear-gradient(-45deg, rgba(226,226,226,1) 0%, rgba(219,219,219,1) 50%, rgba(209,209,209,1) 51%, rgba(254,254,254,1) 100%);
background: -o-linear-gradient(-45deg, rgba(226,226,226,1) 0%, rgba(219,219,219,1) 50%, rgba(209,209,209,1) 51%, rgba(254,254,254,1) 100%);
background: -ms-linear-gradient(-45deg, rgba(226,226,226,1) 0%, rgba(219,219,219,1) 50%, rgba(209,209,209,1) 51%, rgba(254,254,254,1) 100%);
background: linear-gradient(135deg, rgba(226,226,226,1) 0%, rgba(219,219,219,1) 50%, rgba(209,209,209,1) 51%, rgba(254,254,254,1) 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e2e2e2', endColorstr='#fefefe', GradientType=1 );

  }
  a{
      color: black;
      text-decoration: none;
  }
  a:hover{
      color: black;
      text-decoration: underline;
  }
  #container{
    padding-top: 40px;
  }
  input:focus {
    outline:none;
}
</style>
</head>
<html>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">Learning Management System</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item active">
          <a class="nav-link" href="/facultypage">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/calculator" target="__blank">Calculator</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/">Edit Profile</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/logout">Logout</a>
        </li>
      </ul>
    </div>
  </nav>
  <% if(role=='faculty'){ %>
    <div class="navigation" style="background-color: wheat;">
    <a href="/uploadfile" style="padding-left: 20px;">Upload An Assignment</a>
    </div>
  <% } %>
  <div class="container-fluid" >
    <div class="container" id="container">
    <h3>Assignments</h3>
    <br>
    <% for(var i =0;i< files.length; i++) { %>
        <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
  <% for(var x=0;x< 5;x++){ %>
    <div class="accordion" id="accordionExample">
      <div class="card">
        <div class="card-header" id="headingOne">
          <input type="text" value="Topic <%= x+1 %>" class="input<%= x %>" style="border:none" readonly="readonly" />
          <button type="button" value="Make Editable" class="makeEditable<%= x %>" /><i class="fas fa-pencil-alt"></i></button>
          <button type="button" value="Make Editable"  class="makeNonEditable<%= x %>" style="  display: none;
          "/><i class="fas fa-check-circle"></i></button>
          <button type="button" value="nothing" class="cancel<%= x %>" style="  display: none;
            "/><i class="fas fa-window-close"></i></button>
            <% if(role=='faculty'){ %>
          <script type="text/javascript">
            $(function(){
                $(".makeEditable<%= x %>").click(function(){
                    $('.input<%= x %>').removeAttr("readonly");
                    $('.makeNonEditable<%= x %>').show();
                    $('.cancel<%= x %>').show();
                });
             
                $(".cancel<%= x %>").click(function(){
                  $(".input<%= x %>").prop("readonly",true);
                  $('.makeNonEditable<%= x %>').hide();
                  $('.cancel<%= x %>').hide();
                });
            });
            </script>
            <% } else { %>
              <script type="text/javascript">
               $('.makeEditable<%= x %>').hide();
              </script>
              <% } %>
            </button>
          </h2>
        </div>
              <% } %>
  <button type="submit" class="btn btn-primary" id="submitassignment"><a href="/<%= files[i].title %>/submissions">View Submissions</a></button>
  <% } %>
</form>
  </div>
          </div>
        </div>
      </div>
</body>
</html>